<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PERCETAKAN DEDEBONTOT GRAFIKA - Solusi Cetak Anda</title>
    
    <!-- Memuat Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Memuat Font Awesome untuk Ikon (Keranjang, Tutup, dll.) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <!-- Memuat particles.js -->
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>

    <!-- Konfigurasi Tambahan Tailwind & CSS Kustom -->
    <style type="text/tailwindcss">
        @layer utilities {
            /* CSS Kustom Anda di sini */
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0a192f; /* Biru Dongker Tua (Navy) */
            color: #e6f1ff; /* Teks Putih Kebiruan */
        }
        
        /* Latar Belakang Partikel */
        #particles-js {
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 0;
            background-color: #0a192f;
        }

        /* Konten Utama (di atas partikel) */
        .content-wrapper {
            position: relative;
            z-index: 1;
        }

        /* Skema Warna Kustom */
        .text-gold {
            color: #FFD700; /* Emas Terang */
        }
        .bg-gold {
            background-color: #FFD700;
        }
        .border-gold {
            border-color: #FFD700;
        }
        .hover\:bg-gold-dark:hover {
            background-color: #D4AF37; /* Emas lebih gelap saat hover */
        }
        .bg-navy-light {
            background-color: #172a45; /* Biru dongker lebih muda untuk kartu */
        }
        
        /* Kustomisasi Scrollbar (Opsional tapi bagus) */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #0a192f;
        }
        ::-webkit-scrollbar-thumb {
            background: #FFD700;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #D4AF37;
        }
        
        /* Input Number (Jumlah) */
        input[type=number]::-webkit-inner-spin-button, 
        input[type=number]::-webkit-outer-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        input[type=number] {
            -moz-appearance: textfield;
            appearance: textfield;
        }
    </style>
</head>
<body>

    <!-- Wadah untuk Partikel Latar Belakang -->
    <div id="particles-js"></div>

    <!-- Pembungkus Konten Utama -->
    <div class="content-wrapper">

        <!-- Header dan Navigasi -->
        <header class="bg-navy-light shadow-lg sticky top-0 z-40 border-b-2 border-gold">
            <div class="container mx-auto px-6 py-4 flex justify-between items-center">
                <h1 class="text-3xl font-bold text-gold tracking-wider">
                    DEDEBONTOT GRAFIKA
                </h1>
                <button id="open-cart-btn" class="relative text-gold text-2xl hover:text-white transition duration-300">
                    <i class="fas fa-shopping-cart"></i>
                    <span id="cart-count" class="absolute -top-2 -right-3 bg-red-600 text-white text-xs font-bold w-5 h-5 rounded-full flex items-center justify-center">0</span>
                </button>
            </div>
        </header>

        <!-- Main Content -->
        <main class="container mx-auto px-6 py-12">
            
            <!-- Judul Halaman -->
            <section class="text-center mb-12">
                <h2 class="text-4xl font-extrabold mb-4">Solusi Kebutuhan Cetak & ATK Anda</h2>
                <p class="text-lg text-gray-300 max-w-2xl mx-auto">Kualitas terbaik, harga bersahabat, dan pelayanan cepat.</p>
            </section>

            <!-- Grid Produk -->
            <section id="product-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">
                <!-- Produk akan dimasukkan di sini oleh JavaScript -->
            </section>

        </main>
        
        <!-- Footer -->
        <footer class="bg-navy-light mt-16 py-8 border-t-2 border-gold">
            <div class="container mx-auto px-6 text-center text-gray-400">
                <p>&copy; <span id="current-year"></span> PERCETAKAN DEDEBONTOT GRAFIKA</p>
            </div>
        </footer>

    </div>
    <!-- Akhir Pembungkus Konten Utama -->


    <!-- Modal: Pilih Jumlah -->
    <div id="quantity-modal" class="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden backdrop-blur-sm">
        <div class="bg-navy-light p-8 rounded-lg shadow-2xl w-full max-w-md mx-4 border-2 border-gold">
            <h2 class="text-2xl font-bold text-gold mb-6 text-center">Masukan Jumlah</h2>
            <div class="flex items-center mb-6">
                <img id="modal-product-image" src="" alt="Produk" class="w-24 h-24 object-cover rounded-lg mr-6 border border-gold">
                <div>
                    <h3 id="modal-product-name" class="text-xl font-semibold">Nama Produk</h3>
                    <p id="modal-product-price" class="text-lg text-gray-300">Harga Satuan</p>
                </div>
            </div>
            
            <div class="flex items-center justify-center space-x-4 mb-8">
                <button id="decrease-qty" class="bg-gold hover:bg-gold-dark text-black font-bold w-10 h-10 rounded-full text-2xl flex items-center justify-center pb-1">-</button>
                <input id="quantity-input" type="number" value="1" min="1" class="w-24 text-center text-2xl font-bold bg-transparent border-b-2 border-gold text-white focus:outline-none">
                <button id="increase-qty" class="bg-gold hover:bg-gold-dark text-black font-bold w-10 h-10 rounded-full text-2xl flex items-center justify-center pb-1">+</button>
            </div>
            
            <div class="flex justify-between space-x-4">
                <button id="cancel-add-btn" class="w-1/2 bg-gray-600 hover:bg-gray-700 text-white font-bold py-3 rounded-lg transition duration-300">Batal</button>
                <button id="confirm-add-btn" class="w-1/2 bg-gold hover:bg-gold-dark text-black font-bold py-3 rounded-lg transition duration-300">Tambah ke Keranjang</button>
            </div>
        </div>
    </div>


    <!-- Modal: Keranjang Belanja -->
    <div id="cart-modal" class="fixed inset-0 bg-black bg-opacity-75 flex justify-end z-50 hidden backdrop-blur-sm">
        <div class="bg-navy-light w-full max-w-lg h-full shadow-2xl flex flex-col border-l-2 border-gold">
            <!-- Header Modal Keranjang -->
            <div class="flex justify-between items-center p-6 border-b border-gray-700">
                <h2 class="text-2xl font-bold text-gold">Keranjang Anda</h2>
                <button id="close-cart-btn" class="text-gray-400 hover:text-white text-2xl">&times;</button>
            </div>
            
            <!-- Isi Keranjang -->
            <div id="cart-items-container" class="flex-grow p-6 overflow-y-auto">
                <!-- Item keranjang akan ditambahkan di sini -->
                <p id="cart-empty-msg" class="text-gray-400 text-center">Keranjang Anda masih kosong.</p>
            </div>
            
            <!-- Footer Modal Keranjang -->
            <div class="p-6 border-t border-gray-700 bg-gray-900">
                <div class="flex justify-between items-center mb-4">
                    <span class="text-lg font-semibold text-gray-300">Total:</span>
                    <span id="cart-total" class="text-2xl font-bold text-gold">Rp 0</span>
                </div>
                <button id="checkout-btn" class="w-full bg-gold hover:bg-gold-dark text-black font-bold py-3 rounded-lg transition duration-300 disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                    Checkout
                </button>
            </div>
        </div>
    </div>

    <!-- Template untuk Kartu Produk (untuk JavaScript) -->
    <template id="product-card-template">
        <div class="bg-navy-light rounded-lg shadow-xl overflow-hidden transform transition duration-300 hover:scale-105 border-2 border-transparent hover:border-gold">
            <img class="product-image w-full h-56 object-cover" src="" alt="Gambar Produk">
            <div class="p-6">
                <h3 class="product-name text-2xl font-bold text-gold mb-2">Nama Produk</h3>
                <p class="product-price text-xl text-gray-200 mb-4">Rp 0</p>
                <button class="buy-btn w-full bg-gold hover:bg-gold-dark text-black font-bold py-2 px-4 rounded-lg transition duration-30D4AF370">
                    <i class="fas fa-shopping-bag mr-2"></i>Beli
                </button>
            </div>
        </div>
    </template>
    
    <!-- Template untuk Item Keranjang (untuk JavaScript) -->
    <template id="cart-item-template">
        <div class="cart-item flex items-center justify-between mb-4 p-4 bg-gray-900 rounded-lg">
            <img class="cart-item-image w-16 h-16 object-cover rounded-lg mr-4 border border-gold" src="" alt="Item">
            <div class="flex-grow">
                <h4 class="cart-item-name font-semibold text-white">Nama Item</h4>
                <p class="cart-item-price text-sm text-gray-400">Rp 0</p>
            </div>
            <div class="flex items-center">
                <span class="cart-item-quantity mx-4 text-white font-bold">x 1</span>
                <button class="remove-item-btn text-red-500 hover:text-red-400 text-lg">
                    <i class="fas fa-trash-alt"></i>
                </button>
            </div>
        </div>
    </template>


    <!-- JavaScript Utama Aplikasi -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {

            // --- DATA PRODUK (Contoh) ---
            const products = [
                {
                    id: 1,
                    name: "Cetak Kartu Nama (1 Box)",
                    price: 50000,
                    image: "https://www.selasar.com/wp-content/uploads/2020/04/Kartu-Nama-1.jpg" // Diperbarui
                },
                {
                    id: 2,
                    name: "Stempel Otomatis",
                    price: 120000,
                    image: "https://dimensy.id/uploads/posts/attachments/dimensy-1669105585815.png" // Diperbarui
                },
                {
                    id: 3,
                    name: "Cetak Spanduk (per mÂ²)",
                    price: 25000,
                    image: "https://lh7-rt.googleusercontent.com/docsz/AD_4nXerzY-Vl-t8-cQVelvuhtD3YtJFzf-Cha_m0wHwPo_1HamMBDO4GtM2vKntrIAOeS7eKjx17x7AEWaMPZ9OwyLcZvN50_iSNLyYzPifVixFBLLihauGDDLw0mpPkNSFDWGip_gsaA?key=3MZy0XK1_oY8AYytqgFtKqz3" // Diperbarui
                },
                {
                    id: 4,
                    name: "Kertas HVS A4 (1 Rim)",
                    price: 65000,
                    image: "https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgFMmFB6tNlxyydaa7jwv3g-CzOFme96Yyrf98Bs8c0cq4jcjzjgVGGj1gnDJyWNyduCbczhlc2GlTtNKAWaUjOWE38FbFUh305ahA87Uzq_aNCNQxH3jrhKUwLg8isFo4Va4MVa2EXdrBf/s640/Ukuran+Kertas+A4.jpg" // Diperbarui
                },
                {
                    id: 5,
                    name: "Cetak Brosur A5 (100 pcs)",
                    price: 150000,
                    image: "https://www.revoprintonline.com/liteprint/application/liteprint/revo/assets/product_image/1674461738528-Sub-Sub-Kategori-A5-new.png" // Diperbarui
                },
                {
                    id: 6,
                    name: "ID Card + Tali",
                    price: 35000,
                    image: "https://bikinidcard.com/wp-content/uploads/2024/03/id-card-anak-sekolah-bikinidcard-gambar-1.jpg" // Diperbarui
                },
                {
                    id: 7,
                    name: "Buku Yasin (Soft Cover)",
                    price: 15000,
                    image: "https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEihgAMpudJWEVQ9fRNlNbLggxAEsuQgsK-3e6S6PMu7E4DHMD2BiRmVLvm2zG5o6udKqPYyGOLE4JaTrQteNG8GAbJ_gTIOWP-cdtkHeTEPABPzUSdY3tGY-qKLGr0VspL4X0kIwjWx2Y0DsyTYDqf15eNwlBd-1rPhepezQTR1IJxVQpraN2b9ItIeoR42/w1200-h630-p-k-no-nu/587.jpg" // Diperbarui
                },
                {
                    id: 8,
                    name: "Pulpen Gel (1 Lusin)",
                    price: 45000,
                    image: "https://blog-asset.jakmall.com/2024/07/quality-pens_431161-80252-1.webp" // Diperbarui
                },
                // --- Produk ATK Baru ---
                {
                    id: 9,
                    name: "Tipex / Correction Fluid",
                    price: 8000,
                    image: "https://img.id.my-best.com/product_images/8b7fc433fe31eecf5df73d0f28a6cb3f.png?ixlib=rails-4.3.1&q=70&lossless=0&w=800&h=800&fit=clip&s=18b8b0609466dc3358f409548388bd08"
                },
                {
                    id: 10,
                    name: "Penggaris Besi 30cm",
                    price: 12000,
                    image: "https://image1ws.indotrading.com/s3/productimages/webp/co256968/p1158608/w600-h600/8fe0a370-e46d-490a-b262-7335dae0b769.jpg"
                },
                {
                    id: 11,
                    name: "Gunting Sedang",
                    price: 15000,
                    image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSFARwasNDIyN2ZzgOcU0zzVVtNWSi9rDJSLQ&s"
                },
                {
                    id: 12,
                    name: "Pensil 2B (1 Pcs)",
                    price: 3000,
                    image: "https://parto.id/asset/foto_produk/image_jpeg_172178918893.jpeg"
                },
                {
                    id: 13,
                    name: "Penghapus",
                    price: 2500,
                    image: "https://id-test-11.slatic.net/p/99e7f08b819b700c63d14f5e8b0d6a9c.jpg"
                },
                {
                    id: 14,
                    name: "Binder A5",
                    price: 75000,
                    image: "https://www.static-src.com/wcsstore/Indraprastha/images/catalog/full//111/MTA-48739692/bantex_bantex_a5_trendy_multi_ring_binder_20_hole_sky_blue_3124_23_full05_noac4ah3.jpg"
                },
                {
                    id: 15,
                    name: "Isi Ulang Kertas Binder",
                    price: 20000,
                    image: "https://cdn.ralali.id/assets/img/Libraries/Basic-Loose-Leaf-Binder-Paper-A5-Kertas-Binder-A5-Refil-Binder_4BXX3khHwpw5yzaS_1565845466.jpg"
                },
                // --- Produk Jasa Undangan Baru ---
                {
                    id: 16,
                    name: "Jasa Desain & Cetak Undangan Pernikahan",
                    price: 2500, // Harga per pcs
                    image: "https://awsimages.detik.net.id/community/media/visual/2024/04/13/contoh-undangan-pernikahan-simple-dan-elegan-2.png?w=800"
                },
                {
                    id: 17,
                    name: "Jasa Desain & Cetak Undangan Ulang Tahun",
                    price: 1500, // Harga per pcs
                    image: "https://marketplace.canva.com/EAGIDzJz4hg/1/0/1143w/canva-undangan-ulang-tahun-anak-ilustrasi-mermaid-Sjpxg6DXDvQ.jpg"
                },
                {
                    id: 18,
                    name: "Jasa Desain & Cetak Undangan Hajatan",
                    price: 2000, // Harga per pcs
                    image: "https://www.fotocopypercetakanjakarta.com/wp-content/uploads/2019/07/GJP-22-516x480.png"
                }
            ];

            // --- VARIABEL GLOBAL ---
            let cart = []; // Keranjang belanja
            let currentSelectedProductId = null; // Produk yg sedang dipilih untuk modal jumlah

            // --- ELEMEN DOM ---
            const productGrid = document.getElementById('product-grid');
            const productTemplate = document.getElementById('product-card-template');
            
            const quantityModal = document.getElementById('quantity-modal');
            const modalProductName = document.getElementById('modal-product-name');
            const modalProductPrice = document.getElementById('modal-product-price');
            const modalProductImage = document.getElementById('modal-product-image');
            const quantityInput = document.getElementById('quantity-input');
            const decreaseQtyBtn = document.getElementById('decrease-qty');
            const increaseQtyBtn = document.getElementById('increase-qty');
            const cancelAddBtn = document.getElementById('cancel-add-btn');
            const confirmAddBtn = document.getElementById('confirm-add-btn');

            const cartModal = document.getElementById('cart-modal');
            const openCartBtn = document.getElementById('open-cart-btn');
            const closeCartBtn = document.getElementById('close-cart-btn');
            const cartCount = document.getElementById('cart-count');
            const cartItemsContainer = document.getElementById('cart-items-container');
            const cartItemTemplate = document.getElementById('cart-item-template');
            const cartEmptyMsg = document.getElementById('cart-empty-msg');
            const cartTotal = document.getElementById('cart-total');
            const checkoutBtn = document.getElementById('checkout-btn');

            const currentYearSpan = document.getElementById('current-year');

            // --- FUNGSI ---

            /**
             * Memformat angka menjadi format mata uang Rupiah
             */
            function formatRupiah(number) {
                return new Intl.NumberFormat('id-ID', {
                    style: 'currency',
                    currency: 'IDR',
                    minimumFractionDigits: 0
                }).format(number);
            }

            /**
             * Menampilkan semua produk ke dalam grid
             */
            function renderProducts() {
                productGrid.innerHTML = ''; // Kosongkan grid
                products.forEach(product => {
                    const card = productTemplate.content.cloneNode(true);
                    card.querySelector('.product-name').textContent = product.name;
                    card.querySelector('.product-price').textContent = formatRupiah(product.price);
                    card.querySelector('.product-image').src = product.image;
                    card.querySelector('.product-image').alt = product.name;
                    card.querySelector('.buy-btn').dataset.id = product.id;
                    
                    // Tambahkan event listener ke tombol "Beli"
                    card.querySelector('.buy-btn').addEventListener('click', () => {
                        openQuantityModal(product.id);
                    });
                    
                    productGrid.appendChild(card);
                });
            }

            /**
             * Membuka modal untuk memilih jumlah
             */
            function openQuantityModal(productId) {
                currentSelectedProductId = productId;
                const product = products.find(p => p.id === productId);
                if (!product) return;

                modalProductName.textContent = product.name;
                modalProductPrice.textContent = formatRupiah(product.price) + " / pcs";
                modalProductImage.src = product.image;
                quantityInput.value = 1; // Reset jumlah
                
                quantityModal.classList.remove('hidden');
            }

            /**
             * Menutup modal jumlah
             */
            function closeQuantityModal() {
                quantityModal.classList.add('hidden');
                currentSelectedProductId = null;
            }

            /**
             * Menambah/Mengurangi jumlah di modal
             */
            function updateQuantity(amount) {
                let currentValue = parseInt(quantityInput.value) || 0;
                currentValue += amount;
                if (currentValue < 1) {
                    currentValue = 1;
                }
                quantityInput.value = currentValue;
            }

            /**
             * Menambahkan item ke keranjang
             */
            function addToCart() {
                const quantity = parseInt(quantityInput.value) || 1;
                if (quantity <= 0) return;
                
                const product = products.find(p => p.id === currentSelectedProductId);
                if (!product) return;

                // Cek apakah produk sudah ada di keranjang
                const existingItem = cart.find(item => item.id === product.id);
                
                if (existingItem) {
                    existingItem.quantity += quantity;
                } else {
                    cart.push({ ...product, quantity: quantity });
                }
                
                updateCartUI();
                closeQuantityModal();
                
                // Tampilkan notifikasi singkat (opsional)
                showToast(`${product.name} (x${quantity}) ditambahkan.`);
            }

            /**
             * Menghapus item dari keranjang
             */
            function removeFromCart(productId) {
                cart = cart.filter(item => item.id !== productId);
                updateCartUI();
            }

            /**
             * Memperbarui tampilan UI keranjang (ikon, modal, total)
             */
            function updateCartUI() {
                // 1. Update Ikon Hitungan Keranjang
                const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
                cartCount.textContent = totalItems;

                // 2. Update Isi Modal Keranjang
                cartItemsContainer.innerHTML = ''; // Kosongkan
                
                if (cart.length === 0) {
                    cartEmptyMsg.classList.remove('hidden');
                    checkoutBtn.disabled = true;
                } else {
                    cartEmptyMsg.classList.add('hidden');
                    checkoutBtn.disabled = false;
                    
                    cart.forEach(item => {
                        const cartItem = cartItemTemplate.content.cloneNode(true);
                        cartItem.querySelector('.cart-item-name').textContent = item.name;
                        cartItem.querySelector('.cart-item-price').textContent = formatRupiah(item.price);
                        cartItem.querySelector('.cart-item-image').src = item.image;
                        cartItem.querySelector('.cart-item-quantity').textContent = `x ${item.quantity}`;
                        
                        const removeBtn = cartItem.querySelector('.remove-item-btn');
                        removeBtn.dataset.id = item.id;
                        removeBtn.addEventListener('click', () => {
                            removeFromCart(item.id);
                        });
                        
                        cartItemsContainer.appendChild(cartItem);
                    });
                }
                
                // 3. Update Total Harga
                const totalPrice = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
                cartTotal.textContent = formatRupiah(totalPrice);
            }
            
            /**
             * Menampilkan notifikasi toast sederhana
             */
            function showToast(message) {
                const toast = document.createElement('div');
                toast.className = 'fixed bottom-10 right-10 bg-gold text-black font-bold py-3 px-6 rounded-lg shadow-lg z-50 transform translate-y-20 opacity-0 transition-all duration-300';
                toast.textContent = message;
                document.body.appendChild(toast);
                
                // Animasi masuk
                setTimeout(() => {
                    toast.classList.remove('translate-y-20', 'opacity-0');
                    toast.classList.add('translate-y-0', 'opacity-100');
                }, 100);
                
                // Animasi keluar
                setTimeout(() => {
                    toast.classList.add('translate-y-20', 'opacity-0');
                    setTimeout(() => {
                        document.body.removeChild(toast);
                    }, 300);
                }, 3000); // Hilang setelah 3 detik
            }

            /**
             * Inisialisasi Latar Belakang Partikel
             */
            function initParticles() {
                particlesJS('particles-js', {
                    "particles": {
                        "number": {
                            "value": 80, // Jumlah partikel
                            "density": {
                                "enable": true,
                                "value_area": 800
                            }
                        },
                        "color": {
                            "value": "#ffd700" // Warna partikel: Emas
                        },
                        "shape": {
                            "type": "circle",
                            "stroke": {
                                "width": 0,
                                "color": "#000000"
                            }
                        },
                        "opacity": {
                            "value": 0.5,
                            "random": false,
                            "anim": {
                                "enable": false,
                                "speed": 1,
                                "opacity_min": 0.1,
                                "sync": false
                            }
                        },
                        "size": {
                            "value": 3,
                            "random": true,
                            "anim": {
                                "enable": false,
                                "speed": 40,
                                "size_min": 0.1,
                                "sync": false
                            }
                        },
                        "line_linked": {
                            "enable": true,
                            "distance": 150,
                            "color": "#ffd700", // Warna garis: Emas
                            "opacity": 0.4,
                            "width": 1
                        },
                        "move": {
                            "enable": true,
                            "speed": 2, // Kecepatan gerak
                            "direction": "none",
                            "random": false,
                            "straight": false,
                            "out_mode": "out",
                            "bounce": false,
                            "attract": {
                                "enable": false,
                                "rotateX": 600,
                                "rotateY": 1200
                            }
                        }
                    },
                    "interactivity": {
                        "detect_on": "canvas",
                        "events": {
                            "onhover": {
                                "enable": true,
                                "mode": "repulse" // Partikel menjauh saat kursor mendekat
                            },
                            "onclick": {
                                "enable": true,
                                "mode": "push" // Menambah partikel saat diklik
                            },
                            "resize": true
                        },
                        "modes": {
                            "repulse": {
                                "distance": 100,
                                "duration": 0.4
                            },
                            "push": {
                                "particles_nb": 4
                            }
                        }
                    },
                    "retina_detect": true
                });
            }

            // --- EVENT LISTENERS ---

            // Modal Jumlah
            decreaseQtyBtn.addEventListener('click', () => updateQuantity(-1));
            increaseQtyBtn.addEventListener('click', () => updateQuantity(1));
            cancelAddBtn.addEventListener('click', closeQuantityModal);
            confirmAddBtn.addEventListener('click', addToCart);

            // Modal Keranjang
            openCartBtn.addEventListener('click', () => cartModal.classList.remove('hidden'));
            closeCartBtn.addEventListener('click', () => cartModal.classList.add('hidden'));

            // Menutup modal jika klik di luar area konten
            quantityModal.addEventListener('click', (e) => {
                if (e.target === quantityModal) {
                    closeQuantityModal();
                }
            });
            cartModal.addEventListener('click', (e) => {
                if (e.target === cartModal) {
                    cartModal.classList.add('hidden');
                }
            });
            
            // Tombol Checkout (Hanya simulasi)
            checkoutBtn.addEventListener('click', () => {
                alert('Fitur checkout belum diimplementasikan.\nTotal Belanja Anda: ' + cartTotal.textContent);
                cart = [];
                updateCartUI();
                cartModal.classList.add('hidden');
            });
            
            // Set Tahun Sekarang
            currentYearSpan.textContent = new Date().getFullYear();

            // --- INISIALISASI ---
            renderProducts();
            updateCartUI();
            initParticles();
        });
    </script>
</body>
</html>